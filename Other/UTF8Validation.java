public class UTF8Validation {	 public boolean validUtf8(int[] data) {        if(data == null || data.length == 0) return false;        for(int i = 0; i < data.length; i++){            int num = data[i];            // start with 0            if(((num >> 7) & 1) == 0){                continue;            }             // start with 1            else {                int count = 1;                int shift = 6;                while(count < 5 && ((num >> shift) & 1) != 0){                    count++;                    shift--;                }                if(count == 5 || count == 1) return false;                // not enough integer left                if(data.length - 1 - i < count - 1) {                    return false;                }                // check the next count - 1 integers                for(int next = 1; next <= count - 1; next++){                    if(!startWithTen(data[i + next])){                        return false;                    }                }                i = i + count - 1;            }        }        return true;    }        private boolean startWithTen(int num){        if(((num >> 7) & 1) == 0) return false;        if(((num >> 6) & 1) == 1) return false;        return true;    }}