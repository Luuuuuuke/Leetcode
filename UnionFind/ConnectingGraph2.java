import java.util.HashMap;public class ConnectingGraph2 {	HashMap<Integer, Integer> parent = new HashMap<Integer, Integer>();    HashMap<Integer, Integer> count = new HashMap<Integer, Integer>();    public ConnectingGraph2(int n) {        for(int i = 1; i <= n; i++){            parent.put(i, i);            count.put(i, 1);        }    }    public void connect(int a, int b) {        int p1 = find(a);        int p2 = find(b);        if(p1 != p2){            parent.put(p1, p2);            count.put(p2, count.get(p1) + count.get(p2));        }    }            public int query(int a) {        int p = find(a);        return count.get(p);    }        public int find(int a){        int father = parent.get(a);        while(father != parent.get(father)){            father = parent.get(father);        }        int next = parent.get(a);        while(next != father){            int tmp = parent.get(next);            parent.put(next, father);            next = tmp;        }        return father;    }}